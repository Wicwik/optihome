# OptiHome Environment Configuration
# Copy this file to .env and update the values for your deployment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL database credentials
# IMPORTANT: Change these in production!
POSTGRES_USER=opti
POSTGRES_PASSWORD=opti
POSTGRES_DB=optihome

# =============================================================================
# BACKEND CONFIGURATION
# =============================================================================
# Database connection URL (used by backend)
# Format: postgresql+psycopg2://USER:PASSWORD@HOST:PORT/DATABASE
# For Docker Compose, use 'db' as hostname (internal Docker network)
# For external connections, use 'localhost' or your server IP
DATABASE_URL=postgresql+psycopg2://opti:opti@db:5432/optihome

# CORS Origins - Comma-separated list of allowed frontend origins
# IMPORTANT: Must include the URL where your frontend is accessible
# Examples:
#   - Local development: http://localhost:5173
#   - Server deployment: http://your-server-ip:5173,http://your-domain.com:5173
#   - Production: https://your-domain.com
#   - Allow all (not recommended for production): *
CORS_ORIGINS=http://localhost:5173

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# Backend API URL that the frontend will use
# IMPORTANT: This must be accessible from the browser, not just from Docker network
# 
# For local development:
#   VITE_API_BASE_URL=http://localhost:8000
#
# For server deployment (replace with your server IP):
#   VITE_API_BASE_URL=http://192.168.1.100:8000
#   VITE_API_BASE_URL=http://your-server-ip:8000
#
# For production with domain:
#   VITE_API_BASE_URL=https://api.your-domain.com
#   VITE_API_BASE_URL=https://your-domain.com/api
#
# For reverse proxy setup:
#   VITE_API_BASE_URL=/api
VITE_API_BASE_URL=http://localhost:8000

# =============================================================================
# SCHEDULER CONFIGURATION (Optional)
# =============================================================================
# Enable automatic scheduled scraping
# Set to 'true' to enable, 'false' to disable
ENABLE_SCHEDULER=false

# Time when scheduled scraping should run (24-hour format)
# Hour: 0-23 (0 = midnight, 2 = 2 AM, etc.)
SCHEDULE_HOUR=2

# Minute: 0-59
SCHEDULE_MINUTE=0

# Number of pages to scrape per scheduled run
SCRAPE_PAGES_PER_RUN=5

# =============================================================================
# DEPLOYMENT SCENARIOS
# =============================================================================

# --- LOCAL DEVELOPMENT ---
# Use these values for local development on your machine:
# POSTGRES_USER=opti
# POSTGRES_PASSWORD=opti
# POSTGRES_DB=optihome
# DATABASE_URL=postgresql+psycopg2://opti:opti@db:5432/optihome
# CORS_ORIGINS=http://localhost:5173
# VITE_API_BASE_URL=http://localhost:8000

# --- SERVER DEPLOYMENT (Same Server, Different Ports) ---
# If frontend and backend are on the same server but different ports:
# Replace YOUR_SERVER_IP with your actual server IP address
# POSTGRES_USER=opti
# POSTGRES_PASSWORD=your_secure_password_here
# POSTGRES_DB=optihome
# DATABASE_URL=postgresql+psycopg2://opti:your_secure_password_here@db:5432/optihome
# CORS_ORIGINS=http://YOUR_SERVER_IP:5173,http://localhost:5173
# VITE_API_BASE_URL=http://YOUR_SERVER_IP:8000

# --- PRODUCTION WITH DOMAIN ---
# If you have a domain name and are using reverse proxy:
# POSTGRES_USER=opti
# POSTGRES_PASSWORD=your_secure_password_here
# POSTGRES_DB=optihome
# DATABASE_URL=postgresql+psycopg2://opti:your_secure_password_here@db:5432/optihome
# CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com
# VITE_API_BASE_URL=https://your-domain.com/api
# OR if API is on subdomain:
# VITE_API_BASE_URL=https://api.your-domain.com

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. NEVER commit the .env file to version control (it's in .gitignore)
# 2. Use strong passwords in production
# 3. Restrict CORS_ORIGINS to only your actual frontend URLs
# 4. Use HTTPS in production
# 5. Consider using secrets management for production deployments
